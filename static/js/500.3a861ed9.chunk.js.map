{"version":3,"file":"static/js/500.3a861ed9.chunk.js","mappings":"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","sources":["components/MainHeadingHidden/styled.js","components/MainHeadingHidden/MainHeadingHidden.jsx","components/MoviesList/styled.js","components/MoviesList/MoviesList.jsx","components/Section/styled.js","components/Section/Section.jsx","components/SearchBar/SearchBar.jsx","pages/Movies.jsx","utils/fetch-functions.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const MainHeadingStyled = styled.h1`\n  clip: rect(0 0 0 0);\n  clip-path: inset(50%);\n  height: 1px;\n  overflow: hidden;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n`;\n","import { MainHeadingStyled } from './styled';\n\nconst MainHeadingHidden = ({ children }) => {\n  return <MainHeadingStyled>{children}</MainHeadingStyled>;\n};\n\nexport default MainHeadingHidden;\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const LinkStyled = styled(Link)`\n  &:hover,\n  &:focus {\n    color: red;\n  }\n`;\n","import { useLocation } from 'react-router-dom';\nimport propTypes from 'prop-types';\nimport { LinkStyled } from './styled';\n\nconst MoviesList = ({ movies }) => {\n  const location = useLocation();\n\n  return (\n    <ul>\n      {movies &&\n        movies.map(movie => {\n          return (\n            <li key={movie.id}>\n              <LinkStyled to={`/movies/${movie.id}`} state={{ from: location }}>\n                {(movie.title && movie.title) || (movie.name && movie.name)}\n              </LinkStyled>\n            </li>\n          );\n        })}\n    </ul>\n  );\n};\n\nexport default MoviesList;\n\nMoviesList.propTypes = {\n  movies: propTypes.array,\n};\n","import styled from 'styled-components';\n\nexport const SectionStyled = styled.section`\n  margin: 10px 20px;\n`;\n","import PropTypes from 'prop-types';\nimport { SectionStyled } from './styled';\n\nconst Section = ({ title = null, children }) => {\n  return (\n    <SectionStyled>\n      {title && <h2>{title}</h2>}\n      {children}\n    </SectionStyled>\n  );\n};\n\nSection.propTypes = {\n  title: PropTypes.string,\n};\n\nexport default Section;\n","import propTypes from 'prop-types';\n\nconst SearchBar = ({ onSubmit }) => {\n  const handleSubmit = event => {\n    event.preventDefault();\n    const searchText = event.target.elements.search.value;\n\n    if (!searchText) return;\n\n    onSubmit(searchText);\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input\n        name=\"search\"\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies\"\n      />\n    </form>\n  );\n};\n\nexport default SearchBar;\n\nSearchBar.propTypes = {\n  handleSubmit: propTypes.func,\n};\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { searchMovies } from 'utils/fetch-functions';\nimport MoviesList from 'components/MoviesList/MoviesList';\nimport SearchBar from 'components/SearchBar/SearchBar';\nimport Section from 'components/Section/Section';\nimport MainHeadingHidden from 'components/MainHeadingHidden/MainHeadingHidden';\n\nconst Movies = () => {\n  const [searchResults, setSearchResults] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const movieName = searchParams.get('query') || '';\n\n  const updateQueryString = query => {\n    setSearchParams({ query: query });\n  };\n\n  useEffect(() => {\n    const search = async () => {\n      if (movieName !== '') {\n        try {\n          const movies = await searchMovies(movieName);\n          setSearchResults(movies);\n        } catch (error) {\n          console.error(error);\n        }\n      }\n    };\n    search();\n  }, [movieName]);\n\n  const handleFormSubmit = searchInput => {\n    updateQueryString(searchInput);\n  };\n\n  return (\n    <>\n      <MainHeadingHidden>Movie Page</MainHeadingHidden>\n      <Section title=\"Search movies\">\n        <SearchBar onSubmit={handleFormSubmit} />\n      </Section>\n      {searchResults?.length > 0 && (\n        <MoviesList movies={searchResults}></MoviesList>\n      )}\n      {searchResults && searchResults?.length === 0 && (\n        <div>No movie match given criteria</div>\n      )}\n    </>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst API_KEY = '576d66aa4628b8c5efd23313b6537b33';\n\nconst searchParams = new URLSearchParams({\n  api_key: API_KEY,\n  language: 'en-US',\n});\n\nexport const fetchTrendingMovies = async () => {\n  const response = await axios.get(`trending/movie/day?${searchParams}`);\n  return response.data.results;\n};\n\nexport const fetchMovieDetails = async movieId => {\n  const response = await axios.get(`/movie/${movieId}?${searchParams}`);\n  return response.data;\n};\n\nexport const searchMovies = async movieName => {\n  const params = new URLSearchParams(searchParams);\n  params.append('query', movieName);\n  const response = await axios.get(`/search/movie?${params}`);\n  return response.data.results;\n};\n\nexport const fetchMovieCast = async movieId => {\n  const response = await axios.get(`movie/${movieId}/credits?${searchParams}`);\n  return response.data.cast;\n};\n\nexport const fetchMovieReviews = async movieId => {\n  const response = await axios.get(`movie/${movieId}/reviews?${searchParams}`);\n  return response.data.results;\n};\n"],"names":["MainHeadingStyled","styled","_templateObject","_taggedTemplateLiteral","_ref","children","_jsx","LinkStyled","Link","movies","location","useLocation","map","movie","to","concat","id","state","from","title","name","SectionStyled","_ref$title","_jsxs","onSubmit","event","preventDefault","searchText","target","elements","search","value","type","autoComplete","autoFocus","placeholder","_useState","useState","_useState2","_slicedToArray","searchResults","setSearchResults","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","movieName","get","useEffect","_asyncToGenerator","_regeneratorRuntime","_callee","_context","prev","next","searchMovies","sent","t0","console","error","stop","apply","arguments","_Fragment","MainHeadingHidden","Section","SearchBar","searchInput","query","length","MoviesList","axios","URLSearchParams","api_key","language","fetchTrendingMovies","response","abrupt","data","results","fetchMovieDetails","_ref2","_callee2","movieId","_context2","_x","_ref3","_callee3","params","_context3","append","_x2","fetchMovieCast","_ref4","_callee4","_context4","cast","_x3","fetchMovieReviews","_ref5","_callee5","_context5","_x4"],"sourceRoot":""}